## 一、面向对象基础：

在程序开发中，要设计一个类，通常需要满足一下三个要素：

1. **类名** 这类事物的名字，**满足大驼峰命名法**
2. **属性** 这类事物具有什么样的特征
3. **方法** 这类事物具有什么样的行为

##### 1. 类名的确定

​	名词提炼法分析整个业务流程,出现的名词,通常就是找到的类

##### 2 . 属性和方法的确定

- 对 **对象的特征描述**，通常可以定义成 **属性**
- **对象具有的行为**（动词），通常可以定义成 **方法**

#### 1.1 基础语法详解：

`dir`()内置方法：

| 序号 |   方法名   | 类型 | 作用                                         |
| :--: | :--------: | :--: | :------------------------------------------- |
|  01  | `__new__`  | 方法 | **创建对象**时，会被 **自动** 调用           |
|  02  | `__init__` | 方法 | **对象被初始化**时，会被 **自动** 调用       |
|  03  | `__del__`  | 方法 | **对象被从内存中销毁**前，会被 **自动** 调用 |
|  04  | `__str__`  | 方法 | 返回**对象的描述信息**，`print` 函数输出使用 |

##### 使用 `self` 在方法内部输出,哪一个对象调用的方法，self就是哪一个对象的引用；

说起来比较抽象：简单说，

![面向对象（self）流程](C:\Users\xbhog\OneDrive\桌面\图片\面向对象（self）流程.png)

**提示**

- 在日常开发中，不推荐在类的外部给对象增加属性
- 如果**在运行时，没有找到属性，程序会报错**
- 对象应该包含有哪些属性，应该 **封装在类的内部**

##### ----引出：初始化方法

- 当使用类名创建对象时，会自动执行以下操作：
  1. 为对象在内存中 **分配空间** —— 创建对象
  2. 为对象的属性 **设置初始值** —— 初始化方法(`init`)
- 这个 **初始化方法** 就是 `__init__` 方法，`__init__` 是对象的**内置方法**

#### 1.2 `__init__` *方法:是* **专门** *用来定义一个类* 具有哪些属性的方法！

##### 在初始化方法内部定义属性:

```python
class TheQueen:
    def __init__(self):
        print('这是一个初始化方法')
        # 定义用 Cat 类创建的猫对象都有一个 name 的属性
        self.name = '小李子'
        
    def eat(self):
        print('%s吃的贼拉香' %self.name)
        
# 使用类名()创建对象的时候，会自动调用初始化方法 __init__
cixi = TheQueen()
cixi.eat()

```



##### 优化初始化方法：

在开发中，如果希望在 **创建对象的同时，就设置对象的属性**，可以对 `__init__` 方法进行 **改造**

1. 把希望设置的属性值，定义成 `__init__` 方法的参数
2. 在方法内部使用 `self.属性 = 形参` 接收外部传递的参数
3. 在创建对象时，使用 `类名(属性1, 属性2...)` 调用

```python
class TheQueen:
    def __init__(self,new_name):
        print('这是一个初始化方法')
        self.name = new_name
        
    def eat(self):
        print('%s吃的贼拉香' %self.name)

cixi = TheQueen('三')
cixi.eat()
```

## 1.3 内置方法和属性

| 序号 |  方法名   | 类型 | 作用                                         |
| :--: | :-------: | :--: | :------------------------------------------- |
|  01  | `__del__` | 方法 | **对象被从内存中销毁**前，会被 **自动** 调用 |
|  02  | `__str__` | 方法 | 返回**对象的描述信息**，`print` 函数输出使用 |

### 1.4  `__del__` 方法

- 在 `Python` 中

  - 当使用 `类名()` 创建对象时，为对象 **分配完空间**后，**自动** 调用 `__init__` 方法
  - 当一个 **对象被从内存中销毁** 前，会 **自动** 调用 `__del__` 方法

- **应用场景**

  - `__init__` 改造初始化方法，可以让创建对象更加灵活
  - `__del__` 如果希望在对象被销毁前，再做一些事情，可以考虑一下 `__del__` 方法

- **生命周期**

  - 一个对象从调用 `类名()` 创建，生命周期开始

  - 一个对象的 `__del__` 方法一旦被调用，生命周期结束

  - 在对象的生命周期内，可以访问对象属性，或者让对象调用方法

    ```python
    class DelDemo:
        def __init__(self,name):
            self.name = name
            print('%s start live----' %self.name)
        def __del__(self,name):
            print('-----kill  %s live------' %s self.name)
            
            
    helloDel = DelDemo('小强')
    ------------------------------------结果------------------------------------
    -----小强 start live----
    -----kill  小强 live------
    ```

    思考-----kill  %s live------再分隔符上，还是下，使用`del`方法的结果-----kill  %s live------是在上还是下：

    ```python
    class DelDemo:
        def __init__(self,name):
            self.name = name
            print('%s start live----' %self.name)
        def __del__(self,name):
            print('-----kill  %s live------' %s self.name)
            
            
    helloDel = DelDemo('小强')
    #del helloDemo  关键字可以删除一个对象
    print('*'*50)
    ```

```markdown
__del__:
-----小强 start live----
**************************************************
-----kill  小强 live------

del xx:
-----小强 start live----
-----kill  小强 live------
**************************************************
```



### 1.5 `__str__` 方法

- 在 `Python` 中，使用 `print` 输出 **对象变量**，默认情况下，会输出这个变量 **引用的对象** 是 **由哪一个类创建的对象**，以及 **在内存中的地址**（**十六进制表示**）

  ```markdown
  如：
  -----小强 start live----
  <__main__.DelDemo object at 0x000002420C3A5348>
  -----kill  小强 live------
  ```

  

- 如果在开发中，希望使用 `print` 输出 **对象变量** 时，能够打印 **自定义的内容**，就可以利用 `__str__` 这个内置方法了

> 注意：`__str__` 方法必须返回一个字符串

```python
class DelDemo:
    def __init__(self, name):
        self.name = name
        print('-----%s start live----' % self.name)

    def __del__(self):
        print('-----kill  %s live------' %self.name)

    def __str__(self):
        return '----%s隐藏-----' %self.name

helloDel = DelDemo('小强')
print(helloDel)
```



```markdown
-----小强 start live----
----小强隐藏-----
-----kill  小强 live------
```



## 二、面向对象练习：

